<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechX</title>
    <link rel="shortcut icon" href="image/logo2.2-remove.png" type="image/x-icon" class="rounded-circle">
     <!-- Bootstrap File  -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
     integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Login Page starts here -->
        <div class="row">
            <div class="col">
                <img src="image/logo1-remove.png" alt="TechX" id="logo_img">
            </div>
            <div class="col">
                <!-- Social site login -->
            <button class="social-signin facebook" id="flogin">LOGIN WITH FACEBOOK</button>
            <button class="social-signin google" id="glogin"\>LOG IN WITH GOOGLE</button>

            
            <!-- <button class="sign-out" id="signOut">LOG OUT</button> -->
            </div>
          
        </div>
        <!-- Login page ends here -->

    </div>
        <!-- JavaScript Start here -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
        import { getAuth ,GoogleAuthProvider, signInWithPopup, signOut  } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyDzuQMqCSk21coM76TukGRWnxr2_Tqf4tw",
          authDomain: "techx-project.firebaseapp.com",
          projectId: "techx-project",
          storageBucket: "techx-project.appspot.com",
          messagingSenderId: "941951611823",
          appId: "1:941951611823:web:d7441a1f7a9610d5a8355a",
          measurementId: "G-BSE9VLMKCR"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        glogin.addEventListener('click',(e)=>{
            signInWithPopup(auth, provider)
                .then((result) => {
                    // This gives you a Google Access Token. You can use it to access the Google API.
                    const credential = GoogleAuthProvider.credentialFromResult(result);
                    const token = credential.accessToken;
                    // The signed-in user info.
                    const user = result.user;
                    //User name = displayName
                    //email = email
                    //photo = photoURl
                    //redirect                    

                    alert("User Log in : "+user.displayName);
                    // IdP data available using getAdditionalUserInfo(result)
                    // ...
                }).catch((error) => {
                    // Handle Errors here.
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // The email of the user's account used.
                    const email = error.customData.email;
                    // The AuthCredential type that was used.
                    const credential = GoogleAuthProvider.credentialFromError(error);
                    // ...
                    alert(errorMessage);
                });
        });

        signOut.addEventListener('click',(e) =>{
            signOut(auth).then(() => {
                alert("You have been signed out Successfully...");
            }).catch((error) => {
                alert(error);
            });
        });
      </script>
      <!-- JavaScript Ends Here -->
      <!-- Add JavaScript File -->
      <script src="JavaScript/script.js"></script>
</body>
</html>